\hypertarget{timer_8c}{}\section{timer.\+c File Reference}
\label{timer_8c}\index{timer.\+c@{timer.\+c}}


\hyperlink{class_timer}{Timer} A\+PI.  


{\ttfamily \#include \char`\"{}timer.\+h\char`\"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$msp430.\+h$>$}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structtimer}{timer}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{timer_8c_a79fd3eac646964332ed33ec7dd40f208}\label{timer_8c_a79fd3eac646964332ed33ec7dd40f208}} 
\#define {\bfseries M\+A\+X\+\_\+\+T\+I\+M\+E\+RS}~10
\item 
\mbox{\Hypertarget{timer_8c_a6fdff2794a70ac43dbb4e2c72ffff072}\label{timer_8c_a6fdff2794a70ac43dbb4e2c72ffff072}} 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+O\+N\+\_\+\+MS}~100
\item 
\mbox{\Hypertarget{timer_8c_a81b1c8cd63b39b4fcd8fab739ba41877}\label{timer_8c_a81b1c8cd63b39b4fcd8fab739ba41877}} 
\#define {\bfseries S\+R\+\_\+\+A\+L\+L\+OC}()~uint16\+\_\+t \+\_\+\+\_\+sr
\item 
\mbox{\Hypertarget{timer_8c_a96e1f55107bcc6ec80d96e0ee3b108f7}\label{timer_8c_a96e1f55107bcc6ec80d96e0ee3b108f7}} 
\#define {\bfseries E\+N\+T\+E\+R\+\_\+\+C\+R\+I\+T\+I\+C\+AL}()~\+\_\+\+\_\+sr = \+\_\+get\+\_\+interrupt\+\_\+state(); \+\_\+\+\_\+disable\+\_\+interrupt()
\item 
\mbox{\Hypertarget{timer_8c_acc63c500cf503268455a8777eece91a0}\label{timer_8c_acc63c500cf503268455a8777eece91a0}} 
\#define {\bfseries E\+X\+I\+T\+\_\+\+C\+R\+I\+T\+I\+C\+AL}()~\+\_\+\+\_\+set\+\_\+interrupt\+\_\+state(\+\_\+\+\_\+sr)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{timer_8c_af91690c716951a080ba4b44bd68fcb92}{timer\+\_\+init} (void)
\begin{DoxyCompactList}\small\item\em Initialize the timer module. \end{DoxyCompactList}\item 
int \hyperlink{timer_8c_a5a449e750eb6a65513732a1c8e862600}{timer\+\_\+create} (uint16\+\_\+t timeout\+\_\+ms, int periodic, void($\ast$callback)(void $\ast$), void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Create and start a timer. \end{DoxyCompactList}\item 
int \hyperlink{timer_8c_a890c67a38eca222e5316cc8ab99b5eca}{timer\+\_\+delete} (int handle)
\begin{DoxyCompactList}\small\item\em Delete a timer. \end{DoxyCompactList}\item 
int \hyperlink{timer_8c_ab0484aff1ad795f52807a4ef6f75b064}{timer\+\_\+capture} (struct time $\ast$time)
\begin{DoxyCompactList}\small\item\em Capture the current value of the timer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{timer_8c_a2f0b8f785ed2e3cc1ae8a7beecc15962}\label{timer_8c_a2f0b8f785ed2e3cc1ae8a7beecc15962}} 
{\bfseries \+\_\+\+\_\+attribute\+\_\+\+\_\+} ((interrupt(T\+I\+M\+E\+R1\+\_\+\+A0\+\_\+\+V\+E\+C\+T\+OR)))
\item 
\mbox{\Hypertarget{timer_8c_a27c239b90915e2dfd4ec496d6cfa1814}\label{timer_8c_a27c239b90915e2dfd4ec496d6cfa1814}} 
{\bfseries \+\_\+\+\_\+attribute\+\_\+\+\_\+} ((interrupt(T\+I\+M\+E\+R1\+\_\+\+A1\+\_\+\+V\+E\+C\+T\+OR)))
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{class_timer}{Timer} A\+PI. 

\begin{DoxyAuthor}{Author}
Chris Karaplis Copyright (c) 2015, simplyembedded.\+org
\end{DoxyAuthor}
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:


\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\end{DoxyEnumerate}

T\+H\+IS S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED BY T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS \char`\"{}\+A\+S I\+S\char`\"{} A\+ND A\+NY E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES, I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, T\+HE I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY A\+ND F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+RE D\+I\+S\+C\+L\+A\+I\+M\+ED. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+ER OR C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT, I\+N\+C\+I\+D\+E\+N\+T\+AL, S\+P\+E\+C\+I\+AL, E\+X\+E\+M\+P\+L\+A\+RY, OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES (I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, P\+R\+O\+C\+U\+R\+E\+M\+E\+NT OF S\+U\+B\+S\+T\+I\+T\+U\+TE G\+O\+O\+DS OR S\+E\+R\+V\+I\+C\+ES; L\+O\+SS OF U\+SE, D\+A\+TA, OR P\+R\+O\+F\+I\+TS; OR B\+U\+S\+I\+N\+E\+SS I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+ON) H\+O\+W\+E\+V\+ER C\+A\+U\+S\+ED A\+ND ON A\+NY T\+H\+E\+O\+RY OF L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN C\+O\+N\+T\+R\+A\+CT, S\+T\+R\+I\+CT L\+I\+A\+B\+I\+L\+I\+TY, OR T\+O\+RT (I\+N\+C\+L\+U\+D\+I\+NG N\+E\+G\+L\+I\+G\+E\+N\+CE OR O\+T\+H\+E\+R\+W\+I\+SE) A\+R\+I\+S\+I\+NG IN A\+NY W\+AY O\+UT OF T\+HE U\+SE OF T\+H\+IS S\+O\+F\+T\+W\+A\+RE, E\+V\+EN IF A\+D\+V\+I\+S\+ED OF T\+HE P\+O\+S\+S\+I\+B\+I\+L\+I\+TY OF S\+U\+CH D\+A\+M\+A\+GE. 

\subsection{Function Documentation}
\mbox{\Hypertarget{timer_8c_ab0484aff1ad795f52807a4ef6f75b064}\label{timer_8c_ab0484aff1ad795f52807a4ef6f75b064}} 
\index{timer.\+c@{timer.\+c}!timer\+\_\+capture@{timer\+\_\+capture}}
\index{timer\+\_\+capture@{timer\+\_\+capture}!timer.\+c@{timer.\+c}}
\subsubsection{\texorpdfstring{timer\+\_\+capture()}{timer\_capture()}}
{\footnotesize\ttfamily int timer\+\_\+capture (\begin{DoxyParamCaption}\item[{struct time $\ast$}]{time }\end{DoxyParamCaption})}



Capture the current value of the timer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em time} & -\/ the time structure to fill with captured time \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 otherwise 
\end{DoxyReturn}
Wait for the capture to complete\mbox{\Hypertarget{timer_8c_a5a449e750eb6a65513732a1c8e862600}\label{timer_8c_a5a449e750eb6a65513732a1c8e862600}} 
\index{timer.\+c@{timer.\+c}!timer\+\_\+create@{timer\+\_\+create}}
\index{timer\+\_\+create@{timer\+\_\+create}!timer.\+c@{timer.\+c}}
\subsubsection{\texorpdfstring{timer\+\_\+create()}{timer\_create()}}
{\footnotesize\ttfamily int timer\+\_\+create (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{timeout\+\_\+ms,  }\item[{int}]{periodic,  }\item[{void($\ast$)(void $\ast$)}]{callback,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Create and start a timer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em timeout\+\_\+ms} & -\/ the time timeout in ms \\
\hline
\mbox{\tt in}  & {\em periodic} & -\/ non-\/zero for a periodic timer, 0 for single shot \\
\hline
\mbox{\tt in}  & {\em callback} & -\/ timer callback function \\
\hline
\mbox{\tt in}  & {\em arg} & -\/ callback function private data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
non-\/negative integer -\/ the timer handle -\/ on success, -\/1 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{timer_8c_a890c67a38eca222e5316cc8ab99b5eca}\label{timer_8c_a890c67a38eca222e5316cc8ab99b5eca}} 
\index{timer.\+c@{timer.\+c}!timer\+\_\+delete@{timer\+\_\+delete}}
\index{timer\+\_\+delete@{timer\+\_\+delete}!timer.\+c@{timer.\+c}}
\subsubsection{\texorpdfstring{timer\+\_\+delete()}{timer\_delete()}}
{\footnotesize\ttfamily int timer\+\_\+delete (\begin{DoxyParamCaption}\item[{int}]{handle }\end{DoxyParamCaption})}



Delete a timer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & -\/ the timer handle to delete \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the handle is valid, -\/1 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{timer_8c_af91690c716951a080ba4b44bd68fcb92}\label{timer_8c_af91690c716951a080ba4b44bd68fcb92}} 
\index{timer.\+c@{timer.\+c}!timer\+\_\+init@{timer\+\_\+init}}
\index{timer\+\_\+init@{timer\+\_\+init}!timer.\+c@{timer.\+c}}
\subsubsection{\texorpdfstring{timer\+\_\+init()}{timer\_init()}}
{\footnotesize\ttfamily int timer\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize the timer module. 

\begin{DoxyReturn}{Returns}
0 on success, -\/1 otherwise 
\end{DoxyReturn}
\hyperlink{class_timer}{Timer} A1 capture/control block 1 set to the following configuration\+:
\begin{DoxyItemize}
\item capture mode
\item syncronized mode
\item capture on all edges
\item interrupt enabled
\end{DoxyItemize}